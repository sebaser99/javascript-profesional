<html>
<head>
    <title>Clousures</title>
</head>
<body>
    <a href="/ejercicios/">Go Back</a>

    <p><em>Abre la Consola</em></p> 
    <script>

        //Closures

        //IIFE (Inmediatily Invoque function expression)
            //Clousure es la combinación del scope de una función y la función donde fue definida
            //una función que define variables para que su scope le de acceso a una nueva función a las variables qu están afuera

            (function() {
                
                let color="green";
        
                function printColor() {
                    console.log(color);
                }
                printColor();
            }) ();

        //Funciones que regresan funciones 
            function makeColorPrinter (color) {
                let colorMessage =`The color is ${color}`
                return function () {
                    console.log(colorMessage)
                }
            }

            let greenColorPrinter = makeColorPrinter("green"); //esto es un clousure. puedo acceder desde afuera a variables con scope de función, ya que al guardr la función guardo todo el ámbito léxico de las variables
            //CLOUSURES MEMORIZAN EL SCOPE Y POR ENDE LOS VALORES DE LAS VARIABLES DENTRO DE UNA FUNCIÓN 
            console.log(greenColorPrinter());

        //Variables Privadas 
            // const counter = {
            //     count : 3,
            // }

            // console.log(counter.count)

            //ejemplo de variables privadas con clousures 
                function makeCounter (n) {
                    let count = n;
                    
                    return {
                        increase: function() {
                            count = count + 1;
                        },
                        decrease: function() {
                            count = count - 2;
                        },
                        getCount: function() {
                            return count;   
                        }
                    };
                };

                let counter = makeCounter(8);
                counter.increase();
                console.log(counter.getCount());
                counter.decrease();
                console.log(counter.getCount());

    </script>
</body>
</html>